<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Detec√ß√£o Completa - User Agent + Hardware</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .title {
      color: #333;
      text-align: center;
      margin-bottom: 30px;
    }

    .section {
      background: #e8f4fd;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid #007bff;
    }

    .detection-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .detection-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border: 2px solid #ddd;
    }

    .detection-card.user-agent {
      border-color: #007bff;
    }

    .detection-card.hardware {
      border-color: #28a745;
    }

    .detection-card.combined {
      border-color: #ffc107;
      background: #fff3cd;
    }

    .detection-card h3 {
      margin: 0 0 15px 0;
      color: #333;
      font-size: 18px;
    }

    .result-item {
      margin: 10px 0;
      padding: 8px;
      background: white;
      border-radius: 5px;
      border-left: 3px solid #007bff;
    }

    .result-item.success {
      border-left-color: #28a745;
      background: #d4edda;
    }

    .result-item.warning {
      border-left-color: #ffc107;
      background: #fff3cd;
    }

    .result-item.error {
      border-left-color: #dc3545;
      background: #f8d7da;
    }

    .confidence-bar {
      width: 100%;
      height: 20px;
      background: #e9ecef;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }

    .confidence-fill {
      height: 100%;
      background: linear-gradient(90deg, #dc3545, #ffc107, #28a745);
      transition: width 0.3s ease;
    }

    .button {
      background: #007bff;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px 5px;
    }

    .button:hover {
      background: #0056b3;
    }

    .final-result {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin: 20px 0;
      font-size: 18px;
    }

    .hardware-info {
      font-family: monospace;
      font-size: 12px;
      background: #f8f9fa;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title">üéØ Detec√ß√£o Completa - User Agent + Hardware</h1>
    
    <div class="section">
      <h3>üöÄ Resultado Final da Detec√ß√£o</h3>
      <div id="finalResult" class="final-result">
        Analisando dispositivo...
      </div>
    </div>

    <div class="detection-grid">
      <div class="detection-card user-agent">
        <h3>üîç Detec√ß√£o por User Agent</h3>
        <div id="userAgentResult">Analisando...</div>
      </div>

      <div class="detection-card hardware">
        <h3>üîß Detec√ß√£o por Hardware</h3>
        <div id="hardwareResult">Analisando...</div>
      </div>

      <div class="detection-card combined">
        <h3>‚ö° Detec√ß√£o Combinada</h3>
        <div id="combinedResult">Combinando m√©todos...</div>
      </div>
    </div>

    <div class="section">
      <h3>üìä Informa√ß√µes Detalhadas</h3>
      <div id="detailedInfo">Carregando...</div>
    </div>

    <div class="section">
      <button class="button" onclick="startDetection()">üîÑ Detectar Novamente</button>
      <button class="button" onclick="copyResults()">üìã Copiar Resultados</button>
    </div>
  </div>

  <script>
    // Fun√ß√£o para detectar dispositivo m√≥vel
    function isMobileDevice(userAgent) {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
    }

    // Fun√ß√£o para obter informa√ß√µes de hardware
    function getHardwareInfo() {
      return {
        cpuCores: navigator.hardwareConcurrency || 'N/A',
        deviceMemory: navigator.deviceMemory || 'N/A',
        screenWidth: window.screen.width,
        screenHeight: window.screen.height,
        pixelRatio: window.devicePixelRatio,
        touchPoints: navigator.maxTouchPoints || 'N/A',
        platform: navigator.platform,
        vendor: navigator.vendor
      };
    }

    // Detec√ß√£o por User Agent
    function detectByUserAgent(userAgent) {
      const ua = userAgent.toLowerCase();
      
      if (!isMobileDevice(userAgent)) {
        return {
          device: "Desktop",
          user: "Desktop User",
          confidence: 95,
          method: "User Agent",
          details: "Dispositivo desktop detectado"
        };
      }

      // Poco M5 Pro
      if (ua.includes("poco") || ua.includes("xiaomi") || ua.includes("redmi") || 
          ua.includes("mi ") || ua.includes("2312dra50g") || ua.includes("; k)")) {
        return {
          device: "Poco M5 Pro",
          user: "Wandell",
          confidence: 90,
          method: "User Agent",
          details: "Padr√µes Poco/Xiaomi detectados"
        };
      }

      // Samsung A55
      if (ua.includes("sm-a55") || ua.includes("a55") || ua.includes("sm-a556") || 
          ua.includes("sm-a555") || ua.includes("sm-a557")) {
        return {
          device: "Samsung A55",
          user: "Ana",
          confidence: 85,
          method: "User Agent",
          details: "Padr√µes Samsung A55 detectados"
        };
      }

      // Samsung A54
      if (ua.includes("sm-a54") || ua.includes("a54") || ua.includes("sm-a546") || 
          ua.includes("sm-a545") || ua.includes("sm-a547")) {
        return {
          device: "Samsung A54",
          user: "Robson",
          confidence: 85,
          method: "User Agent",
          details: "Padr√µes Samsung A54 detectados"
        };
      }

      // Samsung A34
      if (ua.includes("sm-a34") || ua.includes("a34") || ua.includes("sm-a346") || 
          ua.includes("sm-a345") || ua.includes("sm-a347")) {
        return {
          device: "Samsung A34",
          user: "Jeff",
          confidence: 85,
          method: "User Agent",
          details: "Padr√µes Samsung A34 detectados"
        };
      }

      // Samsung gen√©rico
      if (ua.includes("samsung") || ua.includes("sm-a")) {
        return {
          device: "Samsung",
          user: "Samsung User",
          confidence: 70,
          method: "User Agent",
          details: "Samsung detectado (modelo n√£o espec√≠fico)"
        };
      }

      // Android gen√©rico
      if (ua.includes("android")) {
        return {
          device: "Android",
          user: "Android User",
          confidence: 60,
          method: "User Agent",
          details: "Android detectado (dispositivo n√£o espec√≠fico)"
        };
      }

      return {
        device: "Mobile",
        user: "Mobile User",
        confidence: 50,
        method: "User Agent",
        details: "Dispositivo m√≥vel gen√©rico"
      };
    }

    // Detec√ß√£o por Hardware
    function detectByHardware(hardware) {
      // Poco M5 Pro - 8 n√∫cleos, 8GB RAM, tela 1080x2400
      if (hardware.cpuCores === 8 && hardware.deviceMemory === 8 && 
          hardware.screenWidth === 1080 && hardware.screenHeight === 2400) {
        return {
          device: "Poco M5 Pro",
          user: "Wandell",
          confidence: 85,
          method: "Hardware",
          details: "8 n√∫cleos, 8GB RAM, tela 1080x2400"
        };
      }

      // Samsung A55 - 8 n√∫cleos, 8GB RAM, tela 1080x2340
      if (hardware.cpuCores === 8 && hardware.deviceMemory === 8 && 
          hardware.screenWidth === 1080 && hardware.screenHeight === 2340) {
        return {
          device: "Samsung A55",
          user: "Ana",
          confidence: 80,
          method: "Hardware",
          details: "8 n√∫cleos, 8GB RAM, tela 1080x2340"
        };
      }

      // Samsung A54 - 8 n√∫cleos, 6GB RAM, tela 1080x2340
      if (hardware.cpuCores === 8 && hardware.deviceMemory === 6 && 
          hardware.screenWidth === 1080 && hardware.screenHeight === 2340) {
        return {
          device: "Samsung A54",
          user: "Robson",
          confidence: 80,
          method: "Hardware",
          details: "8 n√∫cleos, 6GB RAM, tela 1080x2340"
        };
      }

      // Samsung A34 - 8 n√∫cleos, 6GB RAM, tela 1080x2400
      if (hardware.cpuCores === 8 && hardware.deviceMemory === 6 && 
          hardware.screenWidth === 1080 && hardware.screenHeight === 2400) {
        return {
          device: "Samsung A34",
          user: "Jeff",
          confidence: 80,
          method: "Hardware",
          details: "8 n√∫cleos, 6GB RAM, tela 1080x2400"
        };
      }

      // Detec√ß√£o por resolu√ß√£o
      if (hardware.screenWidth === 1080 && hardware.screenHeight === 2400) {
        return {
          device: "Dispositivo 1080x2400",
          user: "Usu√°rio",
          confidence: 60,
          method: "Hardware",
          details: "Resolu√ß√£o 1080x2400 detectada"
        };
      }

      if (hardware.screenWidth === 1080 && hardware.screenHeight === 2340) {
        return {
          device: "Dispositivo 1080x2340",
          user: "Usu√°rio",
          confidence: 60,
          method: "Hardware",
          details: "Resolu√ß√£o 1080x2340 detectada"
        };
      }

      return {
        device: "Hardware Desconhecido",
        user: "Usu√°rio",
        confidence: 30,
        method: "Hardware",
        details: "Hardware n√£o identificado"
      };
    }

    // Detec√ß√£o combinada
    function detectCombined(userAgentResult, hardwareResult) {
      // Se ambos detectaram o mesmo dispositivo
      if (userAgentResult.device === hardwareResult.device) {
        return {
          device: userAgentResult.device,
          user: userAgentResult.user,
          confidence: Math.min(95, userAgentResult.confidence + 10),
          method: "Combinado",
          details: `User Agent (${userAgentResult.confidence}%) + Hardware (${hardwareResult.confidence}%) = Confirma√ß√£o`
        };
      }

      // Se User Agent tem alta confian√ßa, priorizar
      if (userAgentResult.confidence > 80) {
        return {
          device: userAgentResult.device,
          user: userAgentResult.user,
          confidence: userAgentResult.confidence,
          method: "User Agent (Priorizado)",
          details: `User Agent confi√°vel (${userAgentResult.confidence}%)`
        };
      }

      // Se Hardware tem alta confian√ßa, priorizar
      if (hardwareResult.confidence > 80) {
        return {
          device: hardwareResult.device,
          user: hardwareResult.user,
          confidence: hardwareResult.confidence,
          method: "Hardware (Priorizado)",
          details: `Hardware confi√°vel (${hardwareResult.confidence}%)`
        };
      }

      // Fallback para User Agent
      return {
        device: userAgentResult.device,
        user: userAgentResult.user,
        confidence: userAgentResult.confidence,
        method: "User Agent (Fallback)",
        details: "User Agent usado como fallback"
      };
    }

    function renderResult(result, elementId) {
      const element = document.getElementById(elementId);
      const confidenceClass = result.confidence > 80 ? 'success' : 
                             result.confidence > 60 ? 'warning' : 'error';
      
      element.innerHTML = `
        <div class="result-item ${confidenceClass}">
          <strong>Dispositivo:</strong> ${result.device}<br/>
          <strong>Usu√°rio:</strong> ${result.user}<br/>
          <strong>Confian√ßa:</strong> ${result.confidence}%<br/>
          <div class="confidence-bar">
            <div class="confidence-fill" style="width: ${result.confidence}%"></div>
          </div>
          <strong>M√©todo:</strong> ${result.method}<br/>
          <strong>Detalhes:</strong> ${result.details}
        </div>
      `;
    }

    function startDetection() {
      const userAgent = navigator.userAgent;
      const hardware = getHardwareInfo();
      
      // Detec√ß√µes individuais
      const userAgentResult = detectByUserAgent(userAgent);
      const hardwareResult = detectByHardware(hardware);
      const combinedResult = detectCombined(userAgentResult, hardwareResult);
      
      // Renderizar resultados
      renderResult(userAgentResult, 'userAgentResult');
      renderResult(hardwareResult, 'hardwareResult');
      renderResult(combinedResult, 'combinedResult');
      
      // Resultado final
      const finalResult = combinedResult;
      document.getElementById('finalResult').innerHTML = `
        <h2>üéØ ${finalResult.device}</h2>
        <h3>üë§ ${finalResult.user}</h3>
        <p>Confian√ßa: ${finalResult.confidence}% | M√©todo: ${finalResult.method}</p>
      `;
      
      // Informa√ß√µes detalhadas
      document.getElementById('detailedInfo').innerHTML = `
        <div class="hardware-info">
          <strong>User Agent:</strong> ${userAgent}<br/>
          <strong>CPU Cores:</strong> ${hardware.cpuCores}<br/>
          <strong>RAM:</strong> ${hardware.deviceMemory} GB<br/>
          <strong>Tela:</strong> ${hardware.screenWidth}x${hardware.screenHeight}<br/>
          <strong>Pixel Ratio:</strong> ${hardware.pixelRatio}<br/>
          <strong>Touch Points:</strong> ${hardware.touchPoints}<br/>
          <strong>Platform:</strong> ${hardware.platform}<br/>
          <strong>Vendor:</strong> ${hardware.vendor}
        </div>
      `;
    }

    function copyResults() {
      const userAgent = navigator.userAgent;
      const hardware = getHardwareInfo();
      const userAgentResult = detectByUserAgent(userAgent);
      const hardwareResult = detectByHardware(hardware);
      const combinedResult = detectCombined(userAgentResult, hardwareResult);
      
      const data = {
        timestamp: new Date().toISOString(),
        finalResult: combinedResult,
        userAgentResult,
        hardwareResult,
        hardware,
        userAgent
      };
      
      const jsonString = JSON.stringify(data, null, 2);
      
      navigator.clipboard.writeText(jsonString).then(() => {
        alert('Resultados copiados para a √°rea de transfer√™ncia!');
      }).catch(() => {
        const textArea = document.createElement('textarea');
        textArea.value = jsonString;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        alert('Resultados copiados para a √°rea de transfer√™ncia!');
      });
    }
    
    // Inicializar
    window.onload = function() {
      startDetection();
    };
  </script>
</body>
</html> 